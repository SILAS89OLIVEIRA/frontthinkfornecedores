{"ast":null,"code":"const {\n  google\n} = require('googleapis');\n\nconst fs = require('fs');\n\nconst credentials = require('./credentials.json');\n\nconst scopes = ['https://www.googleapis.com/auth/drive', 'https://www.googleapis.com/auth/spreadsheets'];\nconst auth = new google.auth.JWT(credentials.client_email, null, credentials.private_key, scopes);\nconst drive = google.drive({\n  version: 'v3',\n  auth\n});\n\n(async function () {\n  let res = await new Promise((resolve, reject) => {\n    drive.files.list({\n      pageSize: 5,\n      fields: 'files(name, webViewLink)',\n      orderBy: 'createdTime desc'\n    }, function (err, res) {\n      if (err) {\n        reject(err);\n      }\n\n      resolve(res);\n    });\n  });\n  let data = 'Name,URL\\n';\n  res.data.files.map(entry => {\n    const {\n      name,\n      webViewLink\n    } = entry;\n    data += `${name},${webViewLink}\\n`;\n  });\n  fs.writeFile('data.csv', data, err => {\n    if (err) throw err;\n    console.log('The file has been saved!');\n  });\n})();","map":{"version":3,"sources":["C:/wamp64/www/thinkfornecedoresfront/src/components/googledrive/googledrive.js"],"names":["google","require","fs","credentials","scopes","auth","JWT","client_email","private_key","drive","version","res","Promise","resolve","reject","files","list","pageSize","fields","orderBy","err","data","map","entry","name","webViewLink","writeFile","console","log"],"mappings":"AAAA,MAAM;AAAEA,EAAAA;AAAF,IAAaC,OAAO,CAAC,YAAD,CAA1B;;AACA,MAAMC,EAAE,GAAGD,OAAO,CAAC,IAAD,CAAlB;;AAEA,MAAME,WAAW,GAAGF,OAAO,CAAC,oBAAD,CAA3B;;AAEA,MAAMG,MAAM,GAAG,CACb,uCADa,EAEb,8CAFa,CAAf;AAKA,MAAMC,IAAI,GAAG,IAAIL,MAAM,CAACK,IAAP,CAAYC,GAAhB,CACXH,WAAW,CAACI,YADD,EACe,IADf,EAEXJ,WAAW,CAACK,WAFD,EAEcJ,MAFd,CAAb;AAKA,MAAMK,KAAK,GAAGT,MAAM,CAACS,KAAP,CAAa;AAAEC,EAAAA,OAAO,EAAE,IAAX;AAAiBL,EAAAA;AAAjB,CAAb,CAAd;;AAGA,CAAC,kBAAkB;AAEjB,MAAIM,GAAG,GAAG,MAAM,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC/CL,IAAAA,KAAK,CAACM,KAAN,CAAYC,IAAZ,CAAiB;AACfC,MAAAA,QAAQ,EAAE,CADK;AAEfC,MAAAA,MAAM,EAAE,0BAFO;AAGfC,MAAAA,OAAO,EAAE;AAHM,KAAjB,EAIG,UAAUC,GAAV,EAAeT,GAAf,EAAoB;AACrB,UAAIS,GAAJ,EAAS;AACPN,QAAAA,MAAM,CAACM,GAAD,CAAN;AACD;;AACDP,MAAAA,OAAO,CAACF,GAAD,CAAP;AACD,KATD;AAUD,GAXe,CAAhB;AAaA,MAAIU,IAAI,GAAG,YAAX;AAEAV,EAAAA,GAAG,CAACU,IAAJ,CAASN,KAAT,CAAeO,GAAf,CAAmBC,KAAK,IAAI;AAC1B,UAAM;AAAEC,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAwBF,KAA9B;AACAF,IAAAA,IAAI,IAAK,GAAEG,IAAK,IAAGC,WAAY,IAA/B;AACD,GAHD;AAKAvB,EAAAA,EAAE,CAACwB,SAAH,CAAa,UAAb,EAAyBL,IAAzB,EAAgCD,GAAD,IAAS;AACtC,QAAIA,GAAJ,EAAS,MAAMA,GAAN;AACTO,IAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AACD,GAHD;AAKD,CA3BD","sourcesContent":["const { google } = require('googleapis');\r\nconst fs = require('fs');\r\n\r\nconst credentials = require('./credentials.json');\r\n\r\nconst scopes = [\r\n  'https://www.googleapis.com/auth/drive',\r\n  'https://www.googleapis.com/auth/spreadsheets',\r\n];\r\n\r\nconst auth = new google.auth.JWT(\r\n  credentials.client_email, null,\r\n  credentials.private_key, scopes\r\n);\r\n\r\nconst drive = google.drive({ version: 'v3', auth });\r\n\r\n\r\n(async function () {\r\n\r\n  let res = await new Promise((resolve, reject) => {\r\n    drive.files.list({\r\n      pageSize: 5,\r\n      fields: 'files(name, webViewLink)',\r\n      orderBy: 'createdTime desc'\r\n    }, function (err, res) {\r\n      if (err) {\r\n        reject(err);\r\n      }\r\n      resolve(res);\r\n    });\r\n  });\r\n\r\n  let data = 'Name,URL\\n';\r\n\r\n  res.data.files.map(entry => {\r\n    const { name, webViewLink } = entry;\r\n    data += `${name},${webViewLink}\\n`;\r\n  });\r\n\r\n  fs.writeFile('data.csv', data, (err) => {\r\n    if (err) throw err;\r\n    console.log('The file has been saved!');\r\n  });\r\n\r\n})()"]},"metadata":{},"sourceType":"module"}