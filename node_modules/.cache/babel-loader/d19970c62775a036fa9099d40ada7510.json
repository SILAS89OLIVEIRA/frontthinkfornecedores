{"ast":null,"code":"import _slicedToArray from\"C:\\\\wamp64\\\\www\\\\xampp\\\\tmp\\\\react-babita-souza\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import\"./VendaEstoque.css\";import{Card,CardTitle,Button}from'reactstrap';//import { useEffect } from \"react\";\nimport api from'../../api';var VendaEstoque=function VendaEstoque(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),vendasdia=_useState2[0],setVendasdia=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),vendas=_useState4[0],setVendas=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),vendasmes=_useState6[0],setVendasmes=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),Estoquetotal=_useState8[0],setEstoquetotal=_useState8[1];var for_cod=localStorage.getItem('for_cod');function hoje(){var today=new Date();var dd=today.getDate();var mm=today.getMonth()+1;//January is 0!\nvar yyyy=today.getFullYear();if(dd<10){dd='0'+dd;}if(mm<10){mm='0'+mm;}var formatado=dd+'/'+mm+'/'+yyyy;var bd=yyyy+'-'+mm+'-'+dd;var valores={'formatado':formatado,'bd':bd};return valores;}function buscarUltimos30dias(){var datIni=hoje().bd;var mesPegar=datIni.split('-')[1];if(mesPegar==='0'){mesPegar='12';}else{mesPegar=parseInt(mesPegar)-1;if(mesPegar<10){mesPegar='0'+mesPegar.toString();}else{mesPegar=mesPegar.toString();}}var dataMes=datIni.split('-')[0]+'-'+mesPegar+'-'+datIni.split('-')[2];return dataMes;}function buscarQuinzena(){var datIni=hoje().bd;var dia=datIni.split('-')[2];var mes=datIni.split('-')[1];var ano=datIni.split('-')[0];var diaIni='01';var diaFim='15';if(dia>'15'){diaIni='16';diaFim='31';if(mes==='02'){if(ano%4===0&&ano%100!==0||ano%400===0){diaFim='29';}else{diaFim='28';}}else if(mes==='04'||mes==='06'||mes==='09'||mes==='11'){diaFim='30';}}var dataIni=ano+'-'+mes+'-'+diaIni;var dataFim=ano+'-'+mes+'-'+diaFim;var valores={'dataIni':dataIni,'dataFim':dataFim};return valores;}useEffect(function(){api.get(\"vendasdia/\".concat(for_cod,\"/\").concat(hoje().bd)).then(function(response){setVendasdia(response.data);});},[for_cod]);useEffect(function(){api.get(\"vendas/\".concat(for_cod,\"/\").concat(buscarQuinzena().dataIni,\"/\").concat(buscarQuinzena().dataFim)).then(function(response){setVendas(response.data);});},[for_cod]);var datFim=hoje().bd;useEffect(function(){api.get(\"vendasmes/\".concat(for_cod,\"/\").concat(buscarUltimos30dias(),\"/\").concat(datFim)).then(function(response){setVendasmes(response.data);});},[for_cod]);useEffect(function(){api.get(\"Estoquetotal/\".concat(for_cod)).then(function(response){setEstoquetotal(response.data);});},[for_cod]);var datIniQuinz=buscarQuinzena().dataIni;var datFimQuinz=buscarQuinzena().dataFim;var dataMes=buscarUltimos30dias();return/*#__PURE__*/React.createElement(\"div\",{className:\"root3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"geral\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container1\"},/*#__PURE__*/React.createElement(\"b\",{id:\"ultimaAtualizacaoMov\"},\"\\xDAltima atualiza\\xE7\\xE3o: \"),/*#__PURE__*/React.createElement(\"hr\",null)),/*#__PURE__*/React.createElement(\"div\",{className:\"container2\",id:\"resumo\"},/*#__PURE__*/React.createElement(\"div\",{className:\"rowVendaEstoque\"},/*#__PURE__*/React.createElement(\"div\",{className:\"cardgeral\"},vendasdia.map(function(vendasdia){return/*#__PURE__*/React.createElement(\"div\",{key:vendasdia,className:\"bloco\"},/*#__PURE__*/React.createElement(Card,{className:\"card1\"},/*#__PURE__*/React.createElement(CardTitle,null,\"Venda Hoje\"),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"quantidade\"},\"Quantidade: \",vendasdia.totalpeca)),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"valorTotal\"},\"Valor Total: \",vendasdia.total)),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"periodo1\"},\"De: \",hoje().formatado),/*#__PURE__*/React.createElement(\"span\",{className:\"periodo2\"},\" Ate: \",hoje().formatado)),/*#__PURE__*/React.createElement(Button,{id:\"buttom1\",className:\"btn1\",type:\"submit\"},\"VER\")));}),vendas.map(function(vendas){return/*#__PURE__*/React.createElement(\"div\",{key:vendas,className:\"bloco\"},/*#__PURE__*/React.createElement(Card,{className:\"card2\"},/*#__PURE__*/React.createElement(CardTitle,null,\"Venda Quinzena\"),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"quantidade\"},\"Quantidade: \",vendas.totalpeca)),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"valorTotal\"},\"Valor Total: \",vendas.total)),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"periodo1\"},\"De: \",datIniQuinz.split('-')[2]+'/'+datIniQuinz.split('-')[1]+'/'+datIniQuinz.split('-')[0]),/*#__PURE__*/React.createElement(\"span\",{className:\"periodo2\"},\" Ate: \",datFimQuinz.split('-')[2]+'/'+datFimQuinz.split('-')[1]+'/'+datFimQuinz.split('-')[0])),/*#__PURE__*/React.createElement(Button,{id:\"buttom2\",className:\"btn2\",type:\"submit\"},\"VER\")));}),vendasmes.map(function(vendasmes){return/*#__PURE__*/React.createElement(\"div\",{key:vendasmes,className:\"bloco\"},/*#__PURE__*/React.createElement(Card,{className:\"card3\"},/*#__PURE__*/React.createElement(CardTitle,null,\"Venda \\xDAltimos 30 dias\"),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"quantidade\"},\"Quantidade: \",vendasmes.totalpeca)),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"valorTotal\"},\"Valor Total: \",vendasmes.total)),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"periodo1\"},\"De: \",dataMes.split('-')[2]+'/'+dataMes.split('-')[1]+'/'+dataMes.split('-')[0]),/*#__PURE__*/React.createElement(\"span\",{className:\"periodo2\"},\" Ate: \",hoje().formatado)),/*#__PURE__*/React.createElement(Button,{id:\"buttom3\",className:\"btn\",type:\"submit\"},\"VER\")));}),Estoquetotal.map(function(Estoquetotal){return/*#__PURE__*/React.createElement(\"div\",{key:Estoquetotal,className:\"bloco\"},/*#__PURE__*/React.createElement(Card,{className:\"card4\"},/*#__PURE__*/React.createElement(CardTitle,null,\"Estoque\"),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"quantidade\"},\"Quantidade: \",Estoquetotal.totalpeca)),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"valorTotal\"},\"Valor Total: \",Estoquetotal.total)),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"periodo1\"},\"Estoque Total\")),/*#__PURE__*/React.createElement(Button,{id:\"buttom4\",className:\"btn4\",type:\"button\",disabled:true},\"INFORMATIVO\")));}))))));};export default VendaEstoque;","map":{"version":3,"sources":["C:/wamp64/www/xampp/tmp/react-babita-souza/src/components/vendaEstoque/VendaEstoque.js"],"names":["React","useState","useEffect","Card","CardTitle","Button","api","VendaEstoque","props","vendasdia","setVendasdia","vendas","setVendas","vendasmes","setVendasmes","Estoquetotal","setEstoquetotal","for_cod","localStorage","getItem","hoje","today","Date","dd","getDate","mm","getMonth","yyyy","getFullYear","formatado","bd","valores","buscarUltimos30dias","datIni","mesPegar","split","parseInt","toString","dataMes","buscarQuinzena","dia","mes","ano","diaIni","diaFim","dataIni","dataFim","get","then","response","data","datFim","datIniQuinz","datFimQuinz","map","totalpeca","total"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport \"./VendaEstoque.css\";\r\nimport {Card, CardTitle, Button} from 'reactstrap';\r\n//import { useEffect } from \"react\";\r\n\r\nimport api from '../../api';\r\n\r\nconst VendaEstoque = (props) => {\r\n\r\nconst [vendasdia, setVendasdia] = useState([]);\r\nconst [vendas, setVendas] = useState([]);\r\nconst [vendasmes, setVendasmes] = useState([]);\r\nconst [Estoquetotal, setEstoquetotal] = useState([]);\r\n\r\nconst for_cod = localStorage.getItem('for_cod')\r\n\r\n\r\nfunction hoje() {\r\n    var today = new Date();\r\n    var dd = today.getDate();\r\n    var mm = today.getMonth() + 1; //January is 0!\r\n\r\n    var yyyy = today.getFullYear();\r\n    if (dd < 10) {\r\n        dd = '0' + dd;\r\n    }\r\n    if (mm < 10) {\r\n        mm = '0' + mm;\r\n    }\r\n    var formatado = dd + '/' + mm + '/' + yyyy;\r\n    var bd = yyyy + '-' + mm + '-' + dd;\r\n    var valores = {'formatado': formatado, 'bd': bd};\r\n    return valores;\r\n}\r\n\r\nfunction buscarUltimos30dias() {\r\n    var datIni = hoje().bd;\r\n    var mesPegar = datIni.split('-')[1];\r\n    if (mesPegar === '0') {\r\n        mesPegar = '12';\r\n    } else {\r\n        mesPegar = parseInt(mesPegar) - 1;\r\n        if (mesPegar < 10) {\r\n            mesPegar = '0' + mesPegar.toString();\r\n        } else {\r\n            mesPegar = mesPegar.toString();\r\n        }\r\n    }\r\n    var dataMes = datIni.split('-')[0] + '-' + mesPegar + '-' + datIni.split('-')[2];\r\n    return dataMes;\r\n}\r\n\r\nfunction buscarQuinzena() {\r\n    var datIni = hoje().bd;\r\n    var dia = datIni.split('-')[2];\r\n    var mes = datIni.split('-')[1];\r\n    var ano = datIni.split('-')[0];\r\n    var diaIni = '01';\r\n    var diaFim = '15';\r\n    if (dia > '15') {\r\n        diaIni = '16';\r\n        diaFim = '31';\r\n        if (mes === '02') {\r\n            if (((ano % 4 === 0) && (ano % 100 !== 0)) || (ano % 400 === 0)) {\r\n                diaFim = '29';\r\n            } else {\r\n                diaFim = '28';\r\n            }\r\n        } else if (mes === '04' || mes === '06' || mes === '09' || mes === '11') {\r\n            diaFim = '30';\r\n        }\r\n    }\r\n    var dataIni = ano + '-' + mes + '-' + diaIni;\r\n    var dataFim = ano + '-' + mes + '-' + diaFim;\r\n    var valores = {'dataIni': dataIni, 'dataFim': dataFim};\r\n    return valores;\r\n}\r\n\r\nuseEffect(()=> {\r\n  api.get(`vendasdia/${for_cod}/${hoje().bd}`).then(response => {\r\n     \r\nsetVendasdia(response.data)\r\n  })\r\n},[for_cod]);\r\n\r\nuseEffect(()=> {\r\n    api.get(`vendas/${for_cod}/${buscarQuinzena().dataIni}/${buscarQuinzena().dataFim}`).then(response => {\r\n \r\n        setVendas(response.data)\r\n    })\r\n  },[for_cod]);\r\n\r\n  var datFim = hoje().bd;\r\n\r\n  useEffect(()=> {\r\n    api.get(`vendasmes/${for_cod}/${buscarUltimos30dias()}/${datFim}`).then(response => {\r\n     \r\n        setVendasmes(response.data)\r\n    })\r\n  },[for_cod]);\r\n\r\n  useEffect(()=> {\r\n    api.get(`Estoquetotal/${for_cod}`).then(response => {\r\n        setEstoquetotal(response.data)\r\n    })\r\n  },[for_cod]);\r\n\r\n  var datIniQuinz = buscarQuinzena().dataIni;\r\n  var datFimQuinz = buscarQuinzena().dataFim;\r\n  var dataMes = buscarUltimos30dias();\r\n\r\n    return (\r\n    <div className=\"root3\">\r\n        <div className=\"geral\">\r\n            <div className=\"container1\">\r\n                <b id=\"ultimaAtualizacaoMov\">Última atualização: </b>\r\n                <hr></hr>\r\n            </div>\r\n            <div className=\"container2\" id=\"resumo\">\r\n                <div className=\"rowVendaEstoque\">\r\n                    <div className=\"cardgeral\">\r\n                    {vendasdia.map(vendasdia => (\r\n                        <div  key={vendasdia} className=\"bloco\" >\r\n                            <Card className=\"card1\">\r\n                                <CardTitle>Venda Hoje</CardTitle>\r\n              \r\n                <p><span className=\"quantidade\">Quantidade: {vendasdia.totalpeca}</span></p>\r\n                    <p><span className=\"valorTotal\">Valor Total: {vendasdia.total}</span></p>\r\n                                <p>\r\n                                    <span className=\"periodo1\">De: {hoje().formatado}</span>\r\n                                    <span className=\"periodo2\"> Ate: {hoje().formatado}</span>\r\n                                </p>\r\n                                <Button id=\"buttom1\" className=\"btn1\" type=\"submit\">VER</Button>\r\n\r\n               \r\n                              \r\n                            </Card>\r\n                        </div>\r\n                        ))}\r\n                           {vendas.map(vendas => (\r\n                        <div  key={vendas} className=\"bloco\">\r\n                            <Card className=\"card2\">\r\n                                <CardTitle>Venda Quinzena</CardTitle>\r\n                                <p><span className=\"quantidade\">Quantidade: {vendas.totalpeca}</span></p>\r\n                                <p><span className=\"valorTotal\">Valor Total: {vendas.total}</span></p>\r\n                                <p>\r\n                                    <span className=\"periodo1\">De: {datIniQuinz.split('-')[2] + '/' + datIniQuinz.split('-')[1] + '/' + datIniQuinz.split('-')[0]}</span>\r\n                                    <span className=\"periodo2\"> Ate: {datFimQuinz.split('-')[2] + '/' + datFimQuinz.split('-')[1] + '/' + datFimQuinz.split('-')[0]}</span>\r\n                                </p>\r\n                                <Button id=\"buttom2\" className=\"btn2\" type=\"submit\">VER</Button>\r\n                            </Card>\r\n                        </div>\r\n\r\n))}\r\n{vendasmes.map(vendasmes => (\r\n                        <div  key={vendasmes} className=\"bloco\">\r\n                            <Card className=\"card3\">\r\n                                <CardTitle>Venda Últimos 30 dias</CardTitle>\r\n                                <p><span className=\"quantidade\">Quantidade: {vendasmes.totalpeca}</span></p>\r\n                                <p><span className=\"valorTotal\">Valor Total: {vendasmes.total}</span></p>\r\n                                <p>\r\n                                    <span className=\"periodo1\">De: {dataMes.split('-')[2] + '/' + dataMes.split('-')[1] + '/' + dataMes.split('-')[0]}</span>\r\n                                    <span className=\"periodo2\"> Ate: {hoje().formatado}</span>\r\n                                </p>\r\n                                <Button id=\"buttom3\" className=\"btn\" type=\"submit\">VER</Button>\r\n                            </Card>\r\n                        </div>\r\n                        ))}\r\n                        {Estoquetotal.map(Estoquetotal => (\r\n                        <div key={Estoquetotal} className=\"bloco\">\r\n                            <Card className=\"card4\">\r\n                                <CardTitle>Estoque</CardTitle>\r\n                                <p><span className=\"quantidade\">Quantidade: {Estoquetotal.totalpeca}</span></p>\r\n                                <p><span className=\"valorTotal\">Valor Total: {Estoquetotal.total}</span></p>\r\n                                <p>\r\n                                    <span className=\"periodo1\">Estoque Total</span>\r\n                                </p>\r\n                                <Button id=\"buttom4\" className=\"btn4\" type=\"button\" disabled>INFORMATIVO</Button>\r\n                            </Card>\r\n                        </div>\r\n                         ))}\r\n                    </div>\r\n                </div>    \r\n            </div>\r\n        </div>\r\n    </div>\r\n    );\r\n}\r\n\r\nexport default VendaEstoque;"]},"metadata":{},"sourceType":"module"}