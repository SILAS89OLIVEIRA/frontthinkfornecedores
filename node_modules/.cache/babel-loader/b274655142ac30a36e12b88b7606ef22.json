{"ast":null,"code":"var _jsxFileName = \"C:\\\\wamp64\\\\www\\\\thinkfornecedoresfront\\\\src\\\\components\\\\SelectSource\\\\index.js\";\nimport React, { Component } from 'react';\nvar SCOPE = 'https://www.googleapis.com/auth/drive.file';\nvar discoveryUrl = 'https://www.googleapis.com/discovery/v1/apis/drive/v3/rest';\n\nclass SelectSource extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: '',\n      googleAuth: ''\n    };\n\n    this.initClient = () => {\n      try {\n        window.gapi.client.init({\n          'apiKey': \"\",\n          'clientId': \"\",\n          'scope': SCOPE,\n          'discoveryDocs': [discoveryUrl]\n        }).then(() => {\n          this.setState({\n            googleAuth: window.gapi.auth2.getAuthInstance()\n          });\n          this.state.googleAuth.isSignedIn.listen(this.updateSigninStatus);\n          document.getElementById('signin-btn').addEventListener('click', this.signInFunction);\n          document.getElementById('signout-btn').addEventListener('click', this.signOutFunction);\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    this.signInFunction = () => {\n      this.state.googleAuth.signIn();\n      this.updateSigninStatus();\n    };\n\n    this.signOutFunction = () => {\n      this.state.googleAuth.signOut();\n      this.updateSigninStatus();\n    };\n\n    this.updateSigninStatus = () => {\n      this.setSigninStatus();\n    };\n\n    this.setSigninStatus = async () => {\n      var user = this.state.googleAuth.currentUser.get();\n      console.log(user);\n\n      if (user.wc == null) {\n        this.setState({\n          name: ''\n        });\n      } else {\n        var isAuthorized = user.hasGrantedScopes(SCOPE);\n\n        if (isAuthorized) {\n          this.setState({\n            name: user.Ot.Cd\n          });\n          const boundary = 'foo_bar_baz';\n          const delimiter = \"\\r\\n--\" + boundary + \"\\r\\n\";\n          const close_delim = \"\\r\\n--\" + boundary + \"--\";\n          var fileName = 'mychat123';\n          var fileData = 'this is a sample data';\n          var contentType = 'text/plain';\n          var metadata = {\n            'name': fileName,\n            'mimeType': contentType\n          };\n          var multipartRequestBody = delimiter + 'Content-Type: application/json; charset=UTF-8\\r\\n\\r\\n' + JSON.stringify(metadata) + delimiter + 'Content-Type: ' + contentType + '\\r\\n\\r\\n' + fileData + '\\r\\n' + close_delim;\n          console.log(multipartRequestBody);\n          var request = window.gapi.client.request({\n            'path': 'https://www.googleapis.com/upload/drive/v3/files',\n            'method': 'POST',\n            'params': {\n              'uploadType': 'multipart'\n            },\n            'headers': {\n              'Content-Type': 'multipart/related; boundary=' + boundary + ''\n            },\n            'body': multipartRequestBody\n          });\n          request.execute(function (file) {\n            console.log(file);\n          });\n        }\n      }\n    };\n\n    this.handleClientLoad = () => {\n      window.gapi.load('client:auth2', this.initClient);\n    };\n  }\n\n  componentDidMount() {\n    var script = document.createElement('script');\n    script.onload = this.handleClientLoad;\n    script.src = \"https://apis.google.com/js/api.js\";\n    document.body.appendChild(script);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }\n    }, \"UserName: \", /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 24\n      }\n    }, this.state.name)), /*#__PURE__*/React.createElement(\"button\", {\n      id: \"signin-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }\n    }, \"Sign In\"), /*#__PURE__*/React.createElement(\"button\", {\n      id: \"signout-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }\n    }, \"Sign Out\"));\n  }\n\n}\n\nexport default SelectSource;","map":{"version":3,"sources":["C:/wamp64/www/thinkfornecedoresfront/src/components/SelectSource/index.js"],"names":["React","Component","SCOPE","discoveryUrl","SelectSource","state","name","googleAuth","initClient","window","gapi","client","init","then","setState","auth2","getAuthInstance","isSignedIn","listen","updateSigninStatus","document","getElementById","addEventListener","signInFunction","signOutFunction","e","console","log","signIn","signOut","setSigninStatus","user","currentUser","get","wc","isAuthorized","hasGrantedScopes","Ot","Cd","boundary","delimiter","close_delim","fileName","fileData","contentType","metadata","multipartRequestBody","JSON","stringify","request","execute","file","handleClientLoad","load","componentDidMount","script","createElement","onload","src","body","appendChild","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nvar SCOPE = 'https://www.googleapis.com/auth/drive.file';\nvar discoveryUrl = 'https://www.googleapis.com/discovery/v1/apis/drive/v3/rest';\n\n\nclass SelectSource extends Component {\n  state = {\n    name: '',\n    googleAuth: ''\n  }\n  componentDidMount(){\n    var script = document.createElement('script');\n    script.onload=this.handleClientLoad;\n    script.src=\"https://apis.google.com/js/api.js\";\n    document.body.appendChild(script);\n  }\n  \n\n  initClient = () => {\n    try{\n      window.gapi.client.init({\n          'apiKey': \"\",\n          'clientId': \"\",\n          'scope': SCOPE,\n          'discoveryDocs': [discoveryUrl]\n        }).then(() => {\n          this.setState({\n            googleAuth: window.gapi.auth2.getAuthInstance()\n          })\n          this.state.googleAuth.isSignedIn.listen(this.updateSigninStatus);  \n         document.getElementById('signin-btn').addEventListener('click', this.signInFunction);\n         document.getElementById('signout-btn').addEventListener('click', this.signOutFunction);\n          \n      });\n    }catch(e){\n      console.log(e);\n    }\n  }\n\n\n  signInFunction =()=>{\n    this.state.googleAuth.signIn();\n    this.updateSigninStatus()\n  }\n\n  signOutFunction =()=>{\n    this.state.googleAuth.signOut();\n    this.updateSigninStatus()\n  }\n\n  updateSigninStatus = ()=> {\n    this.setSigninStatus();\n  }\n\n  \n  setSigninStatus= async ()=>{\n    var user = this.state.googleAuth.currentUser.get();\n    console.log(user)\n    if (user.wc == null){\n      this.setState({\n        name: ''\n      });\n    }\n    else{\n      var isAuthorized = user.hasGrantedScopes(SCOPE);\n      if(isAuthorized){\n        this.setState({\n          name: user.Ot.Cd\n        });\n        const boundary='foo_bar_baz'\n        const delimiter = \"\\r\\n--\" + boundary + \"\\r\\n\";\n        const close_delim = \"\\r\\n--\" + boundary + \"--\";\n        var fileName='mychat123';\n        var fileData='this is a sample data';\n        var contentType='text/plain'\n        var metadata = {\n          'name': fileName,\n          'mimeType': contentType\n        };\n\n        var multipartRequestBody =\n          delimiter +\n          'Content-Type: application/json; charset=UTF-8\\r\\n\\r\\n' +\n          JSON.stringify(metadata) +\n          delimiter +\n          'Content-Type: ' + contentType + '\\r\\n\\r\\n' +\n          fileData+'\\r\\n'+\n          close_delim;\n\n          console.log(multipartRequestBody);\n          var request = window.gapi.client.request({\n            'path': 'https://www.googleapis.com/upload/drive/v3/files',\n            'method': 'POST',\n            'params': {'uploadType': 'multipart'},\n            'headers': {\n              'Content-Type': 'multipart/related; boundary=' + boundary + ''\n            },\n            'body': multipartRequestBody});\n        request.execute(function(file) {\n          console.log(file)\n        });\n      }\n    }\n  }\n\n  handleClientLoad = ()=>{\n    window.gapi.load('client:auth2', this.initClient);\n  }\n  render() {\n    return (\n      <div className=\"App\">\n        <div>UserName: <strong>{ this.state.name}</strong></div>\n        <button id=\"signin-btn\">Sign In</button>\n        <button id=\"signout-btn\">Sign Out</button>\n      </div>\n    );\n  }\n}\n\nexport default SelectSource;"]},"metadata":{},"sourceType":"module"}